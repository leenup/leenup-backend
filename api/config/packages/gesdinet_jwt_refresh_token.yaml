# config/packages/gesdinet_jwt_refresh_token.yaml
gesdinet_jwt_refresh_token:
    refresh_token_class: App\Entity\RefreshToken

    # DurÃ©e de vie du refresh token (14 jours)
    ttl: 1209600

    user_identity_field: email
    token_parameter_name: refresh_token

    # Un seul usage par refresh token (rotation)
    single_use: true

    # Retourner l'expiration dans la rÃ©ponse
    return_expiration: true

    # ðŸ‘‰ NOUVEAU : on active le mode cookie recommandÃ©
    cookie:
        enabled: true
        same_site: lax
        path: /
        domain: null
        http_only: true
        secure: true      # passe-le Ã  false en DEV si tu nâ€™es pas en HTTPS
        partitioned: false
        remove_token_from_body: true
